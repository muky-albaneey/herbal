import {
  require_react
} from "./chunk-I773Y2XN.js";
import {
  __toESM
} from "./chunk-LK32TJAX.js";

// node_modules/react-whatsapp-widget/dist/index.modern.js
var import_react = __toESM(require_react());
import { BiSupport } from "react-icons/bi";
import { AiOutlineClose } from "react-icons/ai";
import { FaWhatsapp } from "react-icons/fa";
var ChatContext = (0, import_react.createContext)({
  isChatOpen: false,
  setIsChatOpen: function setIsChatOpen() {
  }
});
var ChatProvider = function ChatProvider2(_ref) {
  var children = _ref.children;
  var _useState = (0, import_react.useState)(false), isChatOpen = _useState[0], setIsChatOpen2 = _useState[1];
  var value = {
    isChatOpen,
    setIsChatOpen: setIsChatOpen2
  };
  return import_react.default.createElement(ChatContext.Provider, {
    value
  }, children);
};
var styles = { "root": "_39IQj", "message": "_1mXIm", "message_title": "_3sxfE", "message_body": "_1iYf5", "triangle_top_right": "_3Oyio", "message_time": "_3--Dl" };
var defaultProps = {
  companyName: "Support",
  message: "Hello! üëãüèº \n\nWhat can we do for you?"
};
var ChatBox = function ChatBox2(_ref) {
  var _ref$companyName = _ref.companyName, companyName = _ref$companyName === void 0 ? defaultProps.companyName : _ref$companyName, _ref$message = _ref.message, message = _ref$message === void 0 ? defaultProps.message : _ref$message;
  var time = (/* @__PURE__ */ new Date()).toTimeString().split(":").slice(0, 2).join(":");
  return import_react.default.createElement("div", {
    className: styles.root
  }, import_react.default.createElement("div", {
    className: styles.message
  }, import_react.default.createElement("span", {
    className: styles.triangle_top_right
  }), import_react.default.createElement("span", {
    className: styles.message_title
  }, companyName), import_react.default.createElement("p", {
    className: styles.message_body
  }, message), import_react.default.createElement("span", {
    className: styles.message_time
  }, time)));
};
var styles$1 = { "root": "_2uc4w", "close_btn": "_lI8mw", "logo": "_3jDIS", "texts": "_3trGj", "texts_h1": "_3XZUa", "texts_span": "_Muogh" };
var defaultProps$1 = {
  companyName: "Support",
  replyTimeText: "Typically replies within a day"
};
var Header = function Header2(_ref) {
  var CompanyIcon = _ref.CompanyIcon, _ref$companyName = _ref.companyName, companyName = _ref$companyName === void 0 ? defaultProps$1.companyName : _ref$companyName, _ref$replyTimeText = _ref.replyTimeText, replyTimeText = _ref$replyTimeText === void 0 ? defaultProps$1.replyTimeText : _ref$replyTimeText;
  var _useContext = (0, import_react.useContext)(ChatContext), setIsChatOpen2 = _useContext.setIsChatOpen;
  var handleOpen = function handleOpen2() {
    setIsChatOpen2(false);
  };
  return import_react.default.createElement("div", {
    className: styles$1.root
  }, import_react.default.createElement("span", {
    className: styles$1.close_btn,
    onClick: handleOpen
  }, import_react.default.createElement(AiOutlineClose, null)), import_react.default.createElement("div", {
    className: styles$1.logo
  }, CompanyIcon && import_react.default.createElement(CompanyIcon, null) || import_react.default.createElement(BiSupport, null)), import_react.default.createElement("div", {
    className: styles$1.texts
  }, import_react.default.createElement("span", {
    className: styles$1.texts_h1
  }, companyName), import_react.default.createElement("span", {
    className: styles$1.texts_span
  }, replyTimeText)));
};
var styles$2 = { "root": "_3XP0H", "input": "_siqLL", "button": "_3twZq" };
var defaultProps$2 = {
  sendButtonText: "Send",
  inputPlaceHolder: "Type a message"
};
var SendButton = function SendButton2(_ref) {
  var phoneNumber = _ref.phoneNumber, _ref$inputPlaceHolder = _ref.inputPlaceHolder, inputPlaceHolder = _ref$inputPlaceHolder === void 0 ? defaultProps$2.inputPlaceHolder : _ref$inputPlaceHolder, _ref$sendButtonText = _ref.sendButtonText, sendButtonText = _ref$sendButtonText === void 0 ? defaultProps$2.sendButtonText : _ref$sendButtonText;
  var _useState = (0, import_react.useState)(""), message = _useState[0], setMessage = _useState[1];
  var handleClick = function handleClick2() {
    if (!phoneNumber) {
      window.alert("Invalid Phone Number");
      return false;
    }
    window.open("https://wa.me/" + phoneNumber + "?text=" + message);
    setMessage("");
  };
  var handleChange = function handleChange2(e) {
    setMessage(e.target.value);
  };
  return import_react.default.createElement("div", {
    className: styles$2.root
  }, import_react.default.createElement("input", {
    placeholder: inputPlaceHolder,
    className: styles$2.input,
    onChange: handleChange,
    value: message
  }), import_react.default.createElement("button", {
    className: styles$2.button,
    onClick: handleClick
  }, sendButtonText));
};
var styles$3 = { "root": "_2qp0Z" };
var WaButton = function WaButton2() {
  var _useContext = (0, import_react.useContext)(ChatContext), isChatOpen = _useContext.isChatOpen, setIsChatOpen2 = _useContext.setIsChatOpen;
  var handleOpen = function handleOpen2() {
    setIsChatOpen2(!isChatOpen);
  };
  return import_react.default.createElement("div", {
    className: styles$3.root,
    onClick: handleOpen
  }, import_react.default.createElement(FaWhatsapp, null));
};
var styles$4 = { "root": "_1yCVn", "open": "_1qse9", "customTransition": "_2-Apl", "close": "_--3fm" };
var App = function App2(props) {
  var _useContext = (0, import_react.useContext)(ChatContext), isChatOpen = _useContext.isChatOpen, setIsChatOpen2 = _useContext.setIsChatOpen;
  (0, import_react.useEffect)(function() {
    if (props.open) {
      setIsChatOpen2(true);
    }
  }, []);
  return import_react.default.createElement(import_react.Fragment, null, import_react.default.createElement("div", {
    className: styles$4.root + " " + (isChatOpen ? styles$4.open : styles$4.close)
  }, import_react.default.createElement(Header, props), import_react.default.createElement(ChatBox, props), import_react.default.createElement(SendButton, props)), import_react.default.createElement(WaButton, null));
};
var WhatsAppWidget = function WhatsAppWidget2(props) {
  return import_react.default.createElement(ChatProvider, null, import_react.default.createElement(App, props));
};
export {
  WhatsAppWidget
};
//# sourceMappingURL=react-whatsapp-widget.js.map
